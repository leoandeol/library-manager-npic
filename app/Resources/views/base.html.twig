<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Library{% endblock %}</title>
    <link rel="stylesheet" type="text/css" href="{{ asset('css/bootstrap.min.css') }}"/>
    <link rel="stylesheet" type="text/css" href="{{ asset('css/mystyle.css') }}"/>
    <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}" />
  </head>
  <body>
    <div
       id="js-vars"
       data-vars="{{ js_vars|json_encode|e('html_attr') }}"></div>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
	<div class="navbar-header">
	  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
	  <a class="navbar-brand" href="/">The Library</a>
	</div>
	<div id="navbar" class="collapse navbar-collapse">
	  <ul class="nav navbar-nav">
	    {% if app.session.get('connected') == 'true' %}
	    <li class="top-menu-element"><a href="/user/account/
						  {%if app.getSession().get('isAdmin') %}
						  {{app.getSession().get('user').getUsername() }}
						  {% else %}
						  {{app.getSession().get('user').getCode() }}
						  {% endif %}
						  ">{%trans%}Account{%endtrans%}</a></li>
	    <li class="top-menu-element"><a href="/user/logout">Log out</a></li>
	    {% if app.session.get('isAdmin') %}
	    <li class="top-menu-element"><a href="/admin/controlpanel">Admin panel</a></li>
	    {% endif %}
	    {% else %}
	    <li><a href="/user/login">Log in</a></li>
	    {% endif %}
	    <li><a href="/">{% trans %}Home{% endtrans %}</a></li>
	    <li><a href="/item/list">Item list</a></li>
	    <li><a href="/howto">How to</a></li>
	    <li><a href="/about">About</a></li>
	    <li><a href="{{ path('setlocale', {'language': 'en'}) }}"><img width="20px" src="{{asset('img/uk_flag.png')}}" /></a></li>
	    <li><a href="{{ path('setlocale', {'language': 'km'}) }}"><img width="20px" src="{{asset('img/kh_flag.png')}}" /></a></li>
	    <li class="disabled"><a href="http://npic.edu.kh/"><img width="50px" src="{{asset('img/logo.png')}}"/></a></li>
	  </ul>
	</div>
      </div>
    </div>
    <main
       class="container">
      {% block body %}
      {% endblock %}
    </main>
    <footer class="navbar navbar-inverse navbar-fixed-bottom">
      <div class="container">
	<div class="navbar-header">
	  <span class="navbar-brand">NPIC Library Manager - Copyright 2017 Â©</span>
	</div>
      </div>
    </footer>
    <script>
      /** InputAddOn width fix **/
      var a = document.getElementsByClassName("InputAddOn-item");
      var most = 0;
      var i;
      for(i = 0; i < a.length; i++){
		     if(a[i].offsetWidth>most&&a[i].parentElement.childElementCount==2){
	most=a[i].offsetWidth;
	}
	}	
	for(i = 0; i < a.length; i++){
		       if(a[i].parentElement.childElementCount==2){
		       a[i].style.width=most+"px";
		       }
		       }
		       </script>
    <script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
    <script src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>
    <script src="{{ asset('js/jquery-3.2.1.min.js') }}"></script>
    <script src="{{ asset('js/bootstrap.min.js') }}"></script>
    <script src="{{ asset('js/default.js') }}"></script>
    {% block javascripts %}
    {% endblock %}
  </body>
</html>
