{% extends 'base.html.twig' %}

{% block body %}

<article class="article-text-block">
	<h1>General informations</h1>
	{% if isMember==false %}
		<div class="InputAddOn">
			<div class="InputAddOn-item" >Username:</div>
			<p>{{user.getUsername()}}</p>
		</div>
	{% else %}
		<div class="InputAddOn">
			<div class="InputAddOn-item" >Code:</div>
			<p>{{user.getCode()}}</p>
		</div>
	{% endif %}
	<div class="InputAddOn">
		<div class="InputAddOn-item" >Firstname:</div>
    	<p>{{user.getFirstName()}}</p>
	</div>
	<div class="InputAddOn">
		<div class="InputAddOn-item" >Lastname:</div>
    	<p>{{user.getLastName()}}</p>
	</div>
	<div class="InputAddOn">
		<div class="InputAddOn-item" >Email:</div>
    	<p>{{user.getEmail()}}</p>
	</div>
	<div class="InputAddOn">
		<div class="InputAddOn-item" >Gender:</div>
    	<p>{{user.getGender()}}</p>
	</div>
	<div class="InputAddOn">
		<div class="InputAddOn-item" >City:</div>
    	<p>{{user.getAddress().getCity()}}</p>
	</div>
	<div class="InputAddOn">
		<div class="InputAddOn-item" >Postal code:</div>
    	<p>{{user.getAddress().getPostalCode()}}</p>
	</div>
	<div class="InputAddOn">
		<div class="InputAddOn-item" >Street:</div>
    	<p>{{user.getAddress().getStreet()}}</p>
	</div>
	{% if isMember==false %}
		<div class="InputAddOn">
			<div class="InputAddOn-item" >Tel:</div>
			<p>{{user.getTel()}}</p>
		</div>
		<div class="InputAddOn">
			<div class="InputAddOn-item" >Hire date:</div>
			<p>{{user.getHireDate()|date('Y-m-d')}}</p>
		</div>
	{% else %}
		<div class="InputAddOn">
			<div class="InputAddOn-item" >National ID:</div>
			<p>{{user.getNationalId()}}</p>
		</div>
		<div class="InputAddOn">
			<div class="InputAddOn-item" >Civil situation:</div>
			<p>{{user.getCivilSituation()}}</p>
		</div>
		<div class="InputAddOn">
			<div class="InputAddOn-item" >Date of birth:</div>
			<p>{{user.getDob()|date('Y-m-d')}}</p>
		</div>
		<div class="InputAddOn">
			<div class="InputAddOn-item" >Tel mobile:</div>
			<p>{{user.getTelMobile()}}</p>
		</div>
		<div class="InputAddOn">
			<div class="InputAddOn-item" >Tel home:</div>
			<p>{{user.getTelHome()}}</p>
		</div>
		<div class="InputAddOn">
			<div class="InputAddOn-item" >Tel ref:</div>
			<p>{{user.getTelRef()}}</p>
		</div>
		<div class="InputAddOn">
			<div class="InputAddOn-item" >Entry date:</div>
			<p>{{user.getEntryDate()|date('Y-m-d')}}</p>
		</div>
		{% if user.getStudent() %}
			<div class="InputAddOn">
				<div class="InputAddOn-item" >Major:</div>
				<p>{{user.getMajor().getName()}}</p>
			</div>
			<div class="InputAddOn">
				<div class="InputAddOn-item" >Degree:</div>
				<p>{{user.getDegree().getName()}}</p>
			</div>
			<div class="InputAddOn">
				<div class="InputAddOn-item" >Degree year:</div>
				<p>{{user.getDegreeYear().getYear()}}</p>
			</div>
		{% else %}
			<div class="InputAddOn">
				<div class="InputAddOn-item" >Function:</div>
				<p>{{user.getFunction().getName()}}</p>
			</div>
		{% endif %}
		<div class="InputAddOn">
			<div class="InputAddOn-item" >Faculty:</div>
			<p>{{user.getFaculty().getName()}}</p>
		</div>
	{% endif %}
	{% if isAdmin %}
		{% if isMember == false %}
			{% if user.getUsername() != app.session.get('user').getUsername() %}
				{% if user.getDisable()==0 %}
					<div class="InputAddOn">	
						<a href="/admin/disable_user/
							{{user.getUsername()}}
						"><button class="InputAddOn-item">Disable</button></a>
					</div>	
				{% else %}
					<div class="InputAddOn">	
						<a href="/admin/reactivate_user/
							{{user.getUsername()}}
						"><button class="InputAddOn-item">Reactivate</button></a>
					</div>
				{% endif %}
			{% endif %}
		{% else %}
			{% if user.getDisable()==0 %}
				<div class="InputAddOn">	
					<a href="/admin/disable_user/
						{{user.getCode()}}
					"><button class="InputAddOn-item">Disable</button></a>
				</div>	
			{% else %}
				<div class="InputAddOn">	
					<a href="/admin/reactivate_user/
						{{user.getCode()}}
					"><button class="InputAddOn-item">Reactivate</button></a>
				</div>
			{% endif %}
		{% endif %}
	{% endif %}
</article>

{% endblock %}